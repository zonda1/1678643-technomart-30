let feedbackWindow=document.querySelector(".modal-feedback-wrapper"),buttonOpen=document.querySelector(".company-contacts-button"),buttonClose=document.querySelector(".close-link"),mapOpen=document.querySelector(".map-link"),mapPopup=document.querySelector(".modal-map"),mapClose=mapPopup.querySelector(".map-close-link"),bookmarkColor=document.querySelector(".bookmark-link"),bookmarkButton=document.querySelectorAll(".bookmarks-button"),cartColor=document.querySelector(".cart-link"),cartButton=document.querySelectorAll(".buy-button"),feedbackName=feedbackWindow.querySelector("[name=your-name]"),feedbackmail=feedbackWindow.querySelector("[name=your-email]"),isStorageSupport=!0,nameStorage="",mailStorage="";try{nameStorage=localStorage.getItem("feedbackName"),mailStorage=localStorage.getItem("feedbackmail")}catch(e){isStorageSupport=!1}mapOpen.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.add("modal-map-open")}),mapClose.addEventListener("click",function(){mapPopup.classList.remove("modal-map-open")}),window.addEventListener("keydown",function(e){27===e.keyCode&&mapPopup.classList.contains("modal-map-open")&&(e.preventDefault(),mapPopup.classList.remove("modal-map-open"))}),buttonOpen.addEventListener("click",function(){feedbackWindow.classList.add("modal-feedback-wrapper-open"),feedbackName.focus(),(nameStorage||mailStorage)&&(feedbackName.value=nameStorage,feedbackmail.value=mailStorage)}),buttonClose.addEventListener("click",function(){feedbackWindow.classList.remove("modal-feedback-wrapper-open")}),window.addEventListener("keydown",function(e){27===e.keyCode&&feedbackWindow.classList.contains("modal-feedback-wrapper-open")&&(e.preventDefault(),feedbackWindow.classList.remove("modal-feedback-wrapper-open"))}),feedbackWindow.addEventListener("submit",function(e){e.preventDefault(),console.log("Форма отправилась"),feedbackName.value&&feedbackmail.value?isStorageSupport&&(localStorage.setItem("feedbackName",feedbackName.value),localStorage.setItem("feedbackmail",feedbackmail.value)):feedbackWindow.classList.add("modal-error")});let colorChangeBookmark=function(){bookmarkColor.classList.add("bookmark-change-color")},colorChangeCart=function(){cartColor.classList.add("cart-change-color")};for(let e of bookmarkButton)e.addEventListener("click",colorChangeBookmark);for(let e of cartButton)e.addEventListener("click",colorChangeCart);
