let feedbackWindow=document.querySelector(".modal-feadback-wrapper"),buttonOpen=document.querySelector(".company-contacts-button"),buttonClose=document.querySelector(".close-link"),feedbackName=feedbackWindow.querySelector("[name=name]"),feedbackmail=feedbackWindow.querySelector("[name=email]"),isStorageSupport=!0,nameStorage="",mailStorage="";try{nameStorage=localStorage.getItem("feedbackName"),mailStorage=localStorage.getItem("feedbackmail")}catch(e){isStorageSupport=!1}buttonOpen.addEventListener("click",function(){feedbackWindow.classList.add("modal-feadback-wrapper-open"),feedbackName.focus(),(nameStorage||mailStorage)&&(feedbackName.value=nameStorage,feedbackmail.value=mailStorage)}),buttonClose.addEventListener("click",function(){feedbackWindow.classList.remove("modal-feadback-wrapper-open")}),window.addEventListener("keydown",function(e){27===e.keyCode&&feedbackWindow.classList.contains("modal-feadback-wrapper-open")&&(e.preventDefault(),feedbackWindow.classList.remove("modal-feadback-wrapper-open"))}),feedbackWindow.addEventListener("submit",function(e){e.preventDefault(),console.log("Форма отправилась"),feedbackName.value&&feedbackmail.value?isStorageSupport&&(localStorage.setItem("feedbackName",feedbackName.value),localStorage.setItem("feedbackmail",feedbackmail.value)):feedbackWindow.classList.add("modal-error")});
